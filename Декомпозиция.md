# Декомпозиция на функциональные компоненты

## Вариант декомпозиции 1

### Управление каталогом курсов:

1. Создание курсов:
- Ввод информации о курсе (название, описание, преподавательский состав, целевая аудитория, продолжительность, стоимость).
- Загрузка изображений/видео курса (превью, промо-материалы).
- Управление расписанием курса (даты начала и окончания, время проведения занятий).
- Определение ограничений по количеству мест (если есть).
2. Редактирование курсов:
- Актуализация существующей информации о курсе.
- Обновление расписания курса.
- Изменение стоимости курса.
- Добавление/удаление преподавателей.
3. Просмотр курсов:
- Поиск курсов по различным критериям (название, категория, преподаватель, ключевые слова).
- Фильтрация курсов (по цене, дате начала, рейтингу).
- Сортировка курсов (по популярности, новизне, цене).
- Отображение подробной информации о курсе.
4. Удаление курсов:
- Деактивация курса (скрытие из каталога, сохранение данных).
- Полное удаление курса (с удалением всех связанных данных).

### Управление пользователями:

1. Регистрация:
- Ввод личных данных (имя, фамилия, email, пароль).
- Подтверждение email (через отправку письма со ссылкой).
- Согласие с условиями использования + оферта.
2. Авторизация:
- Ввод email и пароля.
- Проверка учетных данных.
- Управление сессиями пользователей.
3. Управление профилем:
- Редактирование личных данных.
- Изменение пароля.
- Просмотр истории покупок.
- Управление подписками на рассылки.
4. Восстановление пароля:
- Запрос на восстановление пароля (ввод email).
- Отправка email со ссылкой для сброса пароля.
- Установка нового пароля.

### Регистрация на курс:


1. Выбор курса:
- Просмотр каталога курсов.
- Просмотр подробной информации о курсе.
2. Добавление курса в корзину:
- Возможность добавить несколько курсов в корзину.
- Отображение количества курсов в корзине.
3. Оформление заказа:
- Просмотр содержимого корзины.
- Подтверждение заказа.

### Обработка платежей:


1. Выбор способа оплаты:
- Предоставление различных способов оплаты (кредитные карты, электронные кошельки, банковские переводы).
- Интеграция с платежными шлюзами (Stripe, PayPal, и т.д.).
2. Ввод платежных данных:
- Обеспечение безопасного ввода данных карты.
- Перенаправление на сайт платежной системы для завершения оплаты.
3. Подтверждение оплаты:
- Получение подтверждения об успешной оплате от платежной системы.
- Обновление статуса заказа.
4. Обработка возвратов:
- Запрос на возврат средств.
- Рассмотрение запроса администратором.
- Осуществление возврата средств.

### Управление доступом к курсу:


1. Предоставление доступа к курсу после оплаты:
- Автоматическое предоставление доступа после успешной оплаты.
- Отправка уведомления пользователю о предоставлении доступа.
2. Управление доступом к материалам курса:
- Предоставление доступа к видеолекциям, текстовым материалам, домашним заданиям и т.д.
- Контроль за соблюдением авторских прав.
3. Отслеживание прогресса обучения:
- Отслеживание прохождения уроков.
- Отслеживание выполнения домашних заданий.
- Предоставление отчетов о прогрессе обучения.

### Отчетность и аналитика:


1. Создание отчетов:
- Отчеты о продажах курсов.
- Отчеты о посещаемости курсов.
- Отчеты о регистрации пользователей.
2. Анализ данных:
- Анализ популярности курсов.
- Анализ эффективности маркетинговых кампаний.

### Администрирование системы:


1. Управление пользователями (администраторами и преподавателями):
- Создание, редактирование и удаление учетных записей.
- Назначение ролей и прав доступа.
2. Мониторинг системы:
- Мониторинг производительности системы.
- Мониторинг безопасности системы.
- Обработка ошибок и исключений.
3. Резервное копирование и восстановление данных.
4. Управление контентом сайта (новости, акции, статьи и т.д.).
5. Настройка параметров системы.

   > В предложенном варианте декомпозиции предусмотрены следующие сценарии изменения:
   > - возможность регистрации и оплаты курсов студентами, которые не являются действующими студентами колледжа;
   > - возможность появление новых клиентов;
   > - предоставление студентам просмотра всей необходимой информации в своем личном кабинете.

   > Данная декомпозиция может существенно увеличить стоимость разработки, но , за счет более тщательной детализации снизит стоимость внесения изменений, так как необходимые фцнкциональные модули уже предусмотрены 



## Вариант декомпозиции 2

### Регистрация на курс
1. Выбор курса
- Отображение доступных курсов
- Фильтрация курсов по категориям
2. Заполнение данных пользователя
- Ввод личной информации (имя, фамилия, email)
- Ввод дополнительной информации (телефон, город)
3. Подтверждение регистрации
- Проверка корректности введенных данных
- Отправка уведомления на email о регистрации
- Генерация уникального идентификатора регистрации
### Оплата курса
1. Выбор способа оплаты
- Оплата банковской картой
- Оплата через электронные платежные системы (PayPal, Яндекс.Деньги и т.д.)
2. Ввод платежных данных
- Ввод данных карты (номер карты, срок действия, CVV)
- Проверка на корректность введенных данных
3. Подтверждение платежа
- Обработка платежа через платежный шлюз
- Авторизация и завершение платежа
- Уведомление об успешной оплате
- Генерация и отправка квитанции об оплате на email
### Доступ к курсу
1. Предоставление доступа к материалам курса
- Создание учетной записи (без постоянного хранения данных)
- Генерация временного доступа к курсу
2. Отправка уведомления о доступе
- Уведомление по email о начале курса
- Ссылки на материалы курса

> В предложенном варианте декомпозиции возможны следующие сценарии изменения:
> - небходимость предварительной регистрации в системе для возможности регистрации и оплаты выбранных курсов;
> - необходимость более тщательного поиска подходящего курса под потребности студентов.

> Данная декомпозиция может существенно увеличить стоимость доработок в случае изменения сценария использования. Данная декомпозиция может быть применена  в случае, если система не планируется к расширению функционала.

**Оценка стоимости**
Факторы, влияющие на оценку:
- Объем изменений — обновления программного обеспечения, исправления ошибок, адаптация функционала. Во втором варианте декомпозиции данный фактор может существенно увеличить стоимость, так как в приведенном варианте функционал ограничен и по умолчанию не подразумевает изменений.
- Число пользователей — поддержка конечных пользователей, консультации. Рост числа пользователей скажется на нагрузке к системе. В первом варианте декомпозиции предусмотрен отдельный модуль для работы с пользователями (тем самым мы сможем заранее спрогнозировать нагрузку на систему)
- Уровень интеграции — связь с внешними системами. 
- Инфраструктура — серверное оборудование, базы данных, сетевые ресурсы.
- Типовые операции — мониторинг работоспособности, резервное копирование, восстановление после сбоев.

**Отказоустойчивость при взаимодействии с внешними системами**
Можно рассмотреть следующие варианты:
1. Обработка таймаутов и повторных попыток. Предусмотреть механизмы автоматического восстановления после кратковременных сбоев связи: установка  временных интервалов ожидания ответов от внешних систем, проработка алгоритмов повторных обращений к внешним сервисам в случае временного отсутствия ответа или ошибки ответа.
2. Кэширование данных и локальное сохранение результатов: использование кэш-памяти сократит зависимость от частых обращений к внешним источникам данных
3. Использование протоколов повышенной надёжности,например,HTTPS. Или использование RESTfull-сервисов или WebSocket-подключений для интерактивного общения между приложениями
